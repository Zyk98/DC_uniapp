{"version":3,"sources":["uni-app:///main.js","webpack:///D:/源码/小程序源码/新朋友圈/pages/send/send.vue?7f67","webpack:///D:/源码/小程序源码/新朋友圈/pages/send/send.vue?1802","webpack:///D:/源码/小程序源码/新朋友圈/pages/send/send.vue?1313","webpack:///D:/源码/小程序源码/新朋友圈/pages/send/send.vue?cdf7","uni-app:///pages/send/send.vue","webpack:///D:/源码/小程序源码/新朋友圈/components/upload/upload.vue?4a6f","webpack:///D:/源码/小程序源码/新朋友圈/components/upload/upload.vue?3105","webpack:///D:/源码/小程序源码/新朋友圈/components/upload/upload.vue?ba87","webpack:///D:/源码/小程序源码/新朋友圈/components/upload/upload.vue?cc15","uni-app:///components/upload/upload.vue"],"names":["createPage","Page"],"mappings":"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","file":"pages/send/send.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/send/send.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./send.vue?vue&type=template&id=9d78abf4&\"\nvar renderjs\nimport script from \"./send.vue?vue&type=script&lang=js&\"\nexport * from \"./send.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../安装包/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/send/send.vue\"\nexport default component.exports","export * from \"-!../../../../../安装包/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../安装包/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../安装包/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../安装包/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../安装包/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../安装包/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./send.vue?vue&type=template&id=9d78abf4&\"","var components = {\n  headerTitle: function() {\n    return import(\n      /* webpackChunkName: \"components/header-title/header-title\" */ \"@/components/header-title/header-title.vue\"\n    )\n  },\n  uInput: function() {\n    return import(\n      /* webpackChunkName: \"uview-ui/components/u-input/u-input\" */ \"@/uview-ui/components/u-input/u-input.vue\"\n    )\n  },\n  uUpload: function() {\n    return import(\n      /* webpackChunkName: \"uview-ui/components/u-upload/u-upload\" */ \"@/uview-ui/components/u-upload/u-upload.vue\"\n    )\n  },\n  upload: function() {\n    return import(\n      /* webpackChunkName: \"components/upload/upload\" */ \"@/components/upload/upload.vue\"\n    )\n  },\n  uCellGroup: function() {\n    return import(\n      /* webpackChunkName: \"uview-ui/components/u-cell-group/u-cell-group\" */ \"@/uview-ui/components/u-cell-group/u-cell-group.vue\"\n    )\n  },\n  uCellItem: function() {\n    return import(\n      /* webpackChunkName: \"uview-ui/components/u-cell-item/u-cell-item\" */ \"@/uview-ui/components/u-cell-item/u-cell-item.vue\"\n    )\n  },\n  uPicker: function() {\n    return import(\n      /* webpackChunkName: \"uview-ui/components/u-picker/u-picker\" */ \"@/uview-ui/components/u-picker/u-picker.vue\"\n    )\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../安装包/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../安装包/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../安装包/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../安装包/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../安装包/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./send.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../安装包/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../安装包/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../安装包/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../安装包/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../安装包/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./send.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view>\r\n\t\t<header-title \r\n\t\t\ttitle=\"发布你的内容吧\"\r\n\t\t\t:isPoint=\"true\"\r\n\t\t\tpointColor=\"#5466ff\"\r\n\t\t\t:isBtn=\"true\"\r\n\t\t\t:btnStyle=\"customStyle\"\r\n\t\t\t@clickBtn=\"clickBtn\"\r\n\t\t></header-title>\r\n\t\t\r\n\t\t<view class=\"content Limit\">\r\n\t\t\t\t<view style=\"margin: 15rpx;\">\r\n\t\t\t\t\t<u-input v-model=\"form.content\" :auto-height=\"false\" type=\"textarea\" maxlength=\"1000\" height=\"300\" placeholder=\"想说你就多说点\" :border=\"false\" /></u-form-item>\r\n\t\t\t\t\t<view style=\"color: #C0C4CC;\">\r\n\t\t\t\t\t\t<text>{{form.content.length}}/1000</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<u-upload \r\n\t\t\t\t\t:action=\"action\"\r\n\t\t\t\t\t:header=\"header\" \r\n\t\t\t\t\t:upload-text=\"type=='video'?'选择视频':'选择图片'\" \r\n\t\t\t\t\t:max-count=\"type=='video'?1:9\"\r\n\t\t\t\t\t:limitType=\"limitType\"\r\n\t\t\t\t\t@on-success=\"uploadSuccess\"\r\n\t\t\t\t\t:before-upload=\"beforeUpload\"\r\n\t\t\t\t\tv-if=\"type=='image'\"\r\n\t\t\t\t\t@on-error=\"onImageError\"\r\n\t\t\t\t\t:show-tips=\"false\"\r\n\t\t\t\t\t></u-upload>\r\n\t\t\t\t<upload v-if=\"type=='video'\" @uploadData=\"uploadData\"></upload>\r\n\t\t\t\t<u-cell-group>\r\n\t\t\t\t\t<u-cell-item title=\"添加地点\" @click=\"addAddress\" :arrow=\"false\">\r\n\t\t\t\t\t\t<text class=\"iconfont icondingwei\" slot=\"icon\" style=\"margin-right: 10rpx;\"></text>\r\n\t\t\t\t\t\t<text slot=\"right-icon\">{{address}}</text>\r\n\t\t\t\t\t</u-cell-item>\r\n\t\t\t\t\t<u-cell-item title=\"发布类别\" @click=\"changeGroup\" :arrow=\"false\">\r\n\t\t\t\t\t\t<text class=\"iconfont\" slot=\"icon\" style=\"margin-right: 10rpx;\">\r\n\t\t\t\t\t\t\t&#xe8cb;\r\n\t\t\t\t\t\t</text>\r\n\t\t\t\t\t\t<text slot=\"right-icon\">{{group.length>0?group[okGroup].name:''}}</text>\r\n\t\t\t\t\t\t<u-picker v-model=\"show\" mode=\"selector\" :range=\"group\"  range-key=\"name\" @confirm=\"confirm\"></u-picker>\r\n\t\t\t\t\t</u-cell-item>\r\n\t\t\t<!-- \t\t<u-cell-item title=\"置顶\" :arrow=\"false\">\r\n\t\t\t\t\t\t<text class=\"iconfont\" slot=\"icon\" style=\"margin-right: 10rpx;\">\r\n\t\t\t\t\t\t\t&#xe729;\r\n\t\t\t\t\t\t</text>\r\n\t\t\t\t\t\t<view  slot=\"right-icon\">\r\n\t\t\t\t\t\t\t<u-switch v-model=\"form.checked\"></u-switch>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</u-cell-item> -->\r\n\t\t\t\t</u-cell-group>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\nimport {config} from \"../../config/config\";\r\nimport {Community} from \"../../model/community\";\r\nimport headerTitle from \"../../components/header-title/header-title.vue\"\r\nimport upload from \"../../components/upload/upload.vue\"\r\nexport default {\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tcustomStyle: {\r\n\t\t\t\tbackgroundColor: '#5466ff',\r\n\t\t\t\tmarginRight: '30rpx'\r\n\t\t\t},\r\n\t\t\ttype:'image',\r\n\t\t\theader:{\r\n\t\t\t\ttoken:uni.getStorageSync('token')\r\n\t\t\t},\r\n\t\t\tuploadVideo:'',\r\n\t\t\tform: {\r\n\t\t\t\tcontent: '',\r\n\t\t\t\tchecked: false\r\n\t\t\t},\r\n\t\t\tshow: false,\r\n\t\t\taddress:\"\",\r\n\t\t\tlocation:\"\",\r\n\t\t\tokGroup:0,\r\n\t\t\tlimitType:['png', 'jpg', 'jpeg', 'webp', 'gif'],\r\n\t\t\taction:config.apiBaseUrl+'v1/file/uploadFile',\r\n\t\t\tfileList: [\r\n\t\t\t\t\r\n\t\t\t],\r\n\t\t\tgroup:[]\r\n\t\t};\r\n\t},\r\n\tcomponents:{\r\n\t\theaderTitle\r\n\t},\r\n\tasync onLoad(e) {\r\n\t\tthis.type=e.type;\r\n\t\tif(this.type=='video'){\r\n\t\t\tthis.limitType=['mp4','avi','mov','flv'];\r\n\t\t}\r\n\t\tvar res = await Community.getCommunityGroup();\r\n\t\tif(res.code==200){\r\n\t\t\tthis.group=res.data;\r\n\t\t}\r\n\t},\r\n\tmethods:{\r\n\t\tonImageError(e){\r\n\t\t\tuni.showToast({\r\n\t\t\t\ttitle:e.msg,\r\n\t\t\t\ticon:\"none\"\r\n\t\t\t})\r\n\t\t},\r\n\t\tbeforeUpload(){\r\n\t\t\tuni.showLoading({\r\n\t\t\t\ttitle:\"上传中\",\r\n\t\t\t\ticon:\"none\",\r\n\t\t\t\tmask:true\r\n\t\t\t})\r\n\t\t},\r\n\t\t//视频上传成功\r\n\t\tuploadData(e){\r\n\t\t\tthis.uploadVideo=e;\r\n\t\t\tconsole.log(e);\r\n\t\t},\r\n\t\tconfirm(e){\r\n\t\t\tthis.okGroup=e;\r\n\t\t},\r\n\t\tchangeGroup(){\r\n\t\t\tthis.show=!this.show;\r\n\t\t},\r\n\t\taddAddress(e){\r\n\t\t\tvar that = this;\r\n\t\t\tuni.chooseLocation({\r\n\t\t\t    success: function (res) {\r\n\t\t\t\t\tthat.address=res.name;\r\n\t\t\t\t\tthat.location=res.longitude+','+res.latitude;\r\n\t\t\t    }\r\n\t\t\t});\r\n\t\t},\r\n\t\tuploadSuccess(e){\r\n\t\t\tthis.fileList.push(e.data.src);\r\n\t\t\tuni.hideLoading();\r\n\t\t},\r\n\t\tcunstomback(){\r\n\t\t\tuni.reLaunch({\r\n\t\t\t\turl:\"../home/index\"\r\n\t\t\t})\r\n\t\t},\r\n\t\tasync clickBtn(e){\r\n\t\t\tif(this.form.content.length<1){\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ttitle:\"说点什么在发吧\",\r\n\t\t\t\t\ticon:'none'\r\n\t\t\t\t})\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif(this.type=='image'){\r\n\t\t\t\tconst images=this.fileList.join(',');\r\n\t\t\t\tvar data= {\r\n\t\t\t\t\tcommunityContent:this.form.content,\r\n\t\t\t\t\timages:images,\r\n\t\t\t\t\tvideo:null,\r\n\t\t\t\t\tgroup_id:this.group[this.okGroup].Id,\r\n\t\t\t\t\taddress:this.address,\r\n\t\t\t\t\tlocation:this.location\r\n\t\t\t\t}\r\n\t\t\t\tvar res = await Community.sendContent(data);\r\n\t\t\t\tif(res.code==200){\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle:res.msg\r\n\t\t\t\t\t})\r\n\t\t\t\t\tsetTimeout(()=>{\r\n\t\t\t\t\t\tuni.reLaunch({\r\n\t\t\t\t\t\t\turl:'../home/index'\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t},1000)\r\n\t\t\t\t}\r\n\t\t\t}else{\r\n\t\t\t\tvar data= {\r\n\t\t\t\t\tcommunityContent:this.form.content,\r\n\t\t\t\t\timages:null,\r\n\t\t\t\t\tvideo:this.uploadVideo!=''?this.uploadVideo.video:null,\r\n\t\t\t\t\tgroup_id:this.group[this.okGroup].Id,\r\n\t\t\t\t\taddress:this.address,\r\n\t\t\t\t\tlocation:this.location\r\n\t\t\t\t}\r\n\t\t\t\tvar res = await Community.sendContent(data);\r\n\t\t\t\tif(res.code==200){\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle:res.msg\r\n\t\t\t\t\t})\r\n\t\t\t\t\tsetTimeout(()=>{\r\n\t\t\t\t\t\tuni.reLaunch({\r\n\t\t\t\t\t\t\turl:'../home/index'\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t},1000)\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\t}\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n</style>\n","import { render, staticRenderFns, recyclableRender, components } from \"./upload.vue?vue&type=template&id=33ebcd24&\"\nvar renderjs\nimport script from \"./upload.vue?vue&type=script&lang=js&\"\nexport * from \"./upload.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../安装包/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"components/upload/upload.vue\"\nexport default component.exports","export * from \"-!../../../../../安装包/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../安装包/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../安装包/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../安装包/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../安装包/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../安装包/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./upload.vue?vue&type=template&id=33ebcd24&\"","var components = {\n  uIcon: function() {\n    return import(\n      /* webpackChunkName: \"uview-ui/components/u-icon/u-icon\" */ \"@/uview-ui/components/u-icon/u-icon.vue\"\n    )\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../安装包/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../安装包/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../安装包/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../安装包/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../安装包/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./upload.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../安装包/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../安装包/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../安装包/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../安装包/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../安装包/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./upload.vue?vue&type=script&lang=js&\"","<template>\n\t<view>\n\t\t<view  @click=\"changeVideo\" style=\"width: 200rpx;height: 200rpx;background-color: #f4f5f6;display: flex;justify-content: center;align-items: center;margin:10rpx;border-radius: 10rpx;position: relative;\">\r\n\t\t\t<view style=\"\" v-if=\"!isChange\">\r\n\t\t\t\t<view style=\"display: flex;justify-content: center;\">\r\n\t\t\t\t\t<u-icon name=\"plus\" class=\"u-add-btn\" size=\"40\"></u-icon>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view style=\"margin-top: 10rpx;\">选择视频</view>\r\n\t\t\t</view>\r\n\t\t\t<video :src=\"video\" v-if=\"isChange\" style=\"width: 200rpx;height: 200rpx;border-radius: 10rpx;\" :autoplay=\"true\">\r\n\t\t\t\t<cover-view  @click.stop=\"closeVideo\" v-if=\"isChange\" style=\"position: absolute;top:10rpx;right:10rpx;width: 44rpx;height: 44rpx;background-color: #fa3534;border-radius: 50%;display: flex;justify-content: center;align-items: center;\">\r\n\t\t\t\t\t<u-icon class=\"u-icon\" name=\"close\" size=\"20\" color=\"#ffff\"></u-icon>\r\n\t\t\t\t</cover-view>\r\n\t\t\t</video>\r\n\t\t</view>\n\t</view>\n</template>\n\n<script>\r\n\timport {Community} from \"../../model/community\";\n\texport default {\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tvideo:\"\",\r\n\t\t\t\tisChange:false\n\t\t\t};\n\t\t},\r\n\t\tmethods:{\r\n\t\t\tasync changeVideo(){\r\n\t\t\t\tvar self = this;\r\n\t\t\t\tuni.chooseVideo({\r\n\t\t\t\t\tcount: 1,\r\n\t\t\t\t\tsourceType: ['camera', 'album'],\r\n\t\t\t\t\tsuccess: async function (res) {\r\n\t\t\t\t\t\tself.video = res.tempFilePath;\r\n\t\t\t\t\t\tself.isChange=true;\r\n\t\t\t\t\t\tuni.showLoading({\r\n\t\t\t\t\t\t\ttitle:\"视频上传中\"\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\tvar up = (await Community.uploadFile(res.tempFilePath)).data;\r\n\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\tup=JSON.parse(up);\r\n\t\t\t\t\t\tif(up.code==200){\r\n\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\ttitle:\"上传成功\"\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\tself.$emit('uploadData',up.data);\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\ttitle:up.msg,\r\n\t\t\t\t\t\t\t\ticon:'none'\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tcloseVideo(){\r\n\t\t\t\tvar that = this;\r\n\t\t\t\tuni.showModal({\r\n\t\t\t\t    title: '提示',\r\n\t\t\t\t    content: '确定要删除该视频吗',\r\n\t\t\t\t    success: function (res) {\r\n\t\t\t\t        if (res.confirm) {\r\n\t\t\t\t          that.video=\"\";\r\n\t\t\t\t          that.isChange=false;\r\n\t\t\t\t        } else if (res.cancel) {\r\n\t\t\t\t            console.log('用户点击取消');\r\n\t\t\t\t        }\r\n\t\t\t\t    }\r\n\t\t\t\t});\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t},\r\n\t\tprops:{\r\n\t\t},\n\t}\n</script>\n\n<style lang=\"scss\">\n\n</style>\n"],"sourceRoot":""}